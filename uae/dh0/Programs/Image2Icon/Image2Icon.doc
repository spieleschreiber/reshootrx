                    Image2Icon
         © 2000-2001 by Stephan Rupprecht
                All rights reserved.
    

COPYRIGHT AND DISCLAIMER
 Image2Icon is copyrighted 2000/2001 by Stephan Rupprecht.
 All rights reserved. This program is freeware, so no financial  
 donations required. Redistribution allowed if the package is 
 left unchanged except for addition of new language catalogs.   
 The author is not responsible for any damage caused by the 
 use or misuse of this documentation and/or the program(s) it 
 describes.


REQUIREMENTS
 Any Amiga® (compatible) computer with AmigaOS® 3.x,
 newicon.library (for os3.0/3.1 based systems) and 68020+ cpu.


DESCRIPTION
 Image2Icon is yet another conversion tool that creates thumbnail
 icons from pictures.


USAGE
 The program can be started from a shell as well as from wb. The
 following options/tooltypes are provided:
 
 FILE/M,MW=MAXWIDTH/N,MH=MAXHEIGHT/N,C=CROP/S,IA=IGNOREASPECT/S,
 AX=ASPECTX/N/K,AY=ASPECTY/N/K,NI=NEWICON/S,FIP=FREEICONPOS/S,
 FW=FRAMEWIDTH/N/K,FH=FRAMEHEIGHT/N/K,T=TRANSPARENT/S,R=REMAPFS/S,
 OPT=OPTIMIZE/S,FL=FRAMELESS/S,SS=SHOWSIZE/K,F=FONT/K,D=DITHER/S,
 FS=FONTSIZE/N/K,FST=FONTSTYLE/K,AP=APPICON/K,APX=APPICONX/N/K,
 APY=APPICONY/N/K,V42=MODEV42/S,QU=QUALITY/N/K,P=PLANAR/S,
 MP=MAXPEN/N/K,SF=STARTFROM/K,DT=DEFAULTTOOL/K,GS=GREYSCALE/S,
 J=JPEG/K,I=ILBM/K,C=CMAP/K,MD=MAXDEPTH/N/K,ST=STACKSIZE/N/K,
 MWP=MAXWIDTHPERCENT/N/K,MHP=MAXHEIGHTPERCENT/N/K,AG=ADDGLOW/S,
 ABS=ABSOLUTE/S,Q=QUIET/S
 
 FILE/M: the image(s) to convert. If you don't give any, the
  program will add an appicon on which you can drop the pictures
  to convert. By double-clicking the icon the program can be
  terminated.
  
 MW=MAXWIDTH/N,MH=MAXHEIGHT/N: the maximum size of the icon to
  create. Please note that NewIcons are limited to a maximum
  size of 93x93 pixels, os3.5 icons are limited to 256x256 pixels.
 
 MWP=MAXWIDTHPERCENT/N/K,MHP=MAXHEIGHTPERCENT/N/K: the maximum
  size of the icon _in percent_ relative to the workbench screen
  size.
  
 C=CROP/S: disables downscaling.
 
 IA=IGNOREASPECT/S: ignore the screen aspect ratio when scaling
  the image. 
  
 ABS=ABSOLUTE/S: don't aspect scale when the image becomes
  larger than MAXWIDTH or MAXHEIGHT. Use MAXWIDTH and MAXHEIGHT
  as destination size instead.

 AX=ASPECTX/N/K,AY=ASPECTY/N/K: allows you to override the
  screen aspect ratio of the workbench screen.
 
 NI=NEWICON/S: create a NewIcon even when os3.5 is available.
  This option does nothing on a os3.0/os3.1 based system.
 
 FIP=FREEICONPOS/S: the resulting icon doesn't have a fixed
  position.
 
 FW=FRAMEWIDTH/N/K,FH=FRAMEHEIGHT/N/K: allows you to add a
  frame around the image.
  
 T=TRANSPARENT/S: by default, the transparent color (if any) of
  an image is ignored. Thus the resulting icon won't have one
  unless this option was specified.
  
 OPT=OPTIMIZE/S: optimize the image data, if possible (os3.5).
  
 FL=FRAMELESS/S: tell workbench not to draw a border around the
  icon (os3.5).
 
 SS=SHOWSIZE/K: display the image size in the icon. The following
  keywords are recognized:
  
  TOPLEFT,TOPRIGHT,CENTER,BOTTOMLEFT,BOTTOMRIGHT
 
 F=FONT/K: the font that is used by SHOWSIZE.
 
 FS=FONTSIZE/N/K: the size of the font.
 
 FST=FONTSTYLE/K: the style of it, either OUTLINE,SHADOW or 
  NORMAL (default)
 
 AP=APPICON/K: the icon to use as appicon.

 APX=APPICONX/N/K,APY=APPICONY/N/K: its position on the workbench
  screen. You always need to specify both.
  
 V42=MODEV42/S: when enabled truecolor images will be converted to
  8bit by the picture.datatype and not by Image2Icon (requires
  picture.datatype v44). You can use this option in combination
  with either REMAPFS or DITHER to improve the quality, but you'll
  probably prefer to stay away from this option as it slows down
  the conversion process without improving the result.
 
 QU=QUALITY/N/K: the quality of the dithering algorithm to use:
  
  0 no dithering is done (quick & dirty)
  1 dither with a 16x16 Bayer matrix (default, still quick but not so dirty:)
  2 dto.
  3 Floyd Steinberg (slowest but best quality)

 GS=GREYSCALE/S: enables greyscale output.
 
 MP=MAXPENS/N/K: the maximum number of pens/colors to use. If GREYSCALE
  is not enabled, the program will either use 8,12,27,36,64,80,125,150,
  216 or 252 colors depending on which is next nearest number to the one
  you've specified.
  
 MD=MAXDEPTH/N/K: the maximum number of bitplanes to use. I2I translates
  this to MAXPENS.

 D=DITHER/S: by default, images with <= 256 colors are remapped to
  their original palette after scaling (ignoring MAXPEN). If you
  enable this option, the images will be dithered instead. This is
  faster but normally results in a thumbnail image with less quality
  as the original palette of the image is not taken into account.
 
 R=REMAPFS/S: by default, images with <= 256 colors are remapped to
  their original palette after scaling (ignoring MAXPEN). If you
  enable this option, the images will also be dithered using Floyd 
  Steinberg dithering.
 
 P=PLANAR/S: this will create an "old style"/planar image in addition
  to the os3.5/NewIcon image.
 
 DT=DEFAULTTOOL/K: the default tool of the icon to create.
 
 SF=STARTFROM/K: how to start the default tool when the user
  double-clicks the icon, this can either be WB, CLI or REXX.

 ST=STACKSIZE/N/K: the default stacksize of the icon (>= 4096 bytes).

 J=JPEG/K: create a jpeg image instead of an icon. If you specify
  JPEG="" the jpeg image will be saved to the same directory
  where the source also exists, the suffix of the image will be
  changed to "_small.jpg", so that the original image does not get
  overwritten. When the image should be saved to a different directory
  simply specify, eg. JPEG="Pictures:%f_thumb.jpg" where %f will
  be replaced by the file name later.
 
  This option requires jpeg.library by Paul Huxham:
  http://www.scouts.org.au/steeplesoftware

 I=ILBM/K: create an ilbm image instead of an icon. Also see
  J=JPEG/K. This option requires picture.datatype v43 or better.
  For 24bit output specify MAXDEPTH=24.
  
 C=CMAP/K: The ilbm file which palette should be used when
  remapping an image. You should also specify REMAPFS for better
  quality. 
  
 AG=ADDGLOW/S: create an icon with a "glowing" alternate image, this
  option overrides the FRAMEWIDTH and FRAMEHEIGHT options.

 Q=QUIET/S: supresses any output except error messages.


KNOWN PROBLEMS
 - the ilbm.datatype that comes with os3.5 doesn't support bw/greyscale
   images produced by BME (PageStream). Please use one of my ilbm.datatypes
   instead (util/dtype/ilbmdt44.lha or util/dtype/ilbmdtPPC.lha).
 - the SHOWSIZE option doesn't work when creating JPEG images or
   24bit ILBMs. This is not supported yet.


SPECIAL THANKS GO TO
 Olaf Barthel who wrote the dithering code used by this program
 and of course to the people who reported bugs and made suggestions :)
 Also thanks to Dámaso D. Estévez for the spanish doc and
 Raul Silva for the icons.


HISTORY
 1.0  first public release
 1.1  added QU=QUALITY/N/K option to select a different dithering
      algorithm. supports HAM images via picture.datatype v44 now.
 1.2  optionally creates a "old style" image in addition to the 
      os3.5/NewIcon one, see PLANAR/S option <John Blyth>. added
      some smoothing code to the scaler, this requires additional
      cpu time but makes the icon look nicer. Please note that I
      had to disable TRANSPARENT/S to make it work correctly. It's
      possible to drop drawers on the appicon, now. This will allow
      you to convert a whole dir in one go.
 1.3  some datatypes pass an aspect ratio of 0:0 causing a division
      by zero guru (0x80000005), fixed. When dropping a drawer on
      the appicon the program will no longer put up an error requester
      when encountering an unsupported filetype <John Blyth>. added
      MP=MAXPENS/N/K option although it isn't quite useful (IMHO).
 1.4  added STARTFROM/K, DEFAULTTOOL/K options <Mario Cattaneo>.
      creating NewIcons on a 3.5 based system didn't work, as NewIcon
      and 3.5 image data was saved to disk.
 1.5  should work on a NewIcons based system finally <Xenomorph>,
      <Rainer M. Herold>.
 1.6  no longer crashs on small images where the source size is the
      same as the destination size.
 1.7  added GS=GREYSCALE/S option <Nick Clover>. If QUIET is not given,
      the program will output some status messages to the current
      console window (when started from WB, the WINDOW tooltype must be
      given to see this messages).
 1.8  added D=DITHER/S,R=REMAPFS/S options. the code to handle EHB pictures
      disappeared somehow, it's now back;) HAM images are supported in-
      dependently from the installed picture.datatype, now. rewrote some
      parts of code to work on chunky buffers instead of bitmaps, this should
      result in a faster thumbnail creation, especially users without an RTG
      software should notice an speed improvement.
 1.9  the dithering code can use upto 252 colors, now (before 216).
 1.10 optimized the scaling code a bit, included some nice icons made by
      Raul Silva.
 1.11 if you start the program from wb or if you drop icons on its appicon,
      a simple gui with a progress bar will be shown.
 1.12 the progress bar was shown even when QUIET was given. unless
      PLANAR was specified the program has caused several enforcer hits when
      a NewIcon was saved on a os3.0/os3.1 based system.
 1.13 remapping works much faster, now. Included WarpOS version.
 1.14 Ooops! The program didn't work when started from wb because it
      waited for the wbmsg twice <Raul Silva>. The WarpUP version is
      a bit faster now as the ppc will be used for scaling and smoothing,
      too (requires more memory!!!).
 1.15 added JPEG/K,ILBM/K,CMAP/K,MD=MAXDEPTH/N/K options. improved matrix
      dithering and removed 4x4 Bayer matrix.
 1.16 there was an old bug in the smoothing code messing around with the
      pixel colors, the WOS version never had this problem <Christian
      Effenberger>. Now displays a proper error message when the CMAP
      couldn't be found. The JPEG/K and ILBM/K allow you to specify a
      destination path, now.
 1.17 implemented ADDGLOW/S,MAXWIDTHPERCENT/N/K,MAXHEIGHTPERCENT/N/K,
      ABS=ABSOLUTE/S options. reimplemented support for images with
      a transparent color.
 1.18 because of a "misplaced" parenthesis, the 68k version could
      allocate a temporary buffer that was a few bytes too small <Greg>.
 1.19 the text in the progress bar appears centered again <Greg>.


AUTHOR

Please send bug reports and ideas to:

 Stephan Rupprecht
 Apfeldweg 1
 D44359 Dortmund
 Germany

 Send emails to

 info@stephan-rupprecht.de

 WWW
 
 http://stephan-rupprecht.de
